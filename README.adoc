= teragrep RFC5424 parser

Features

* Fast

Non-features

* Excellent strictness


== License
AGPLv3 with link:https://github.com/teragrep/rlo_06/blob/master/LICENSE#L665-L670[additional permissions] granted in the license.


== Usage


Simply create a `new RFC5424Frame`, give it an inputstream with `load(inputStream)` and read data with `next()`. It will return true or false depending on whether there were data to read. Note that `toString()` needs to be used when printing. You can optionally pass `true` to in the constructor for enabling newline feed termination, defaults to `false`.

[source,java]
----
boolean linefeedTermination = false;
RFC5424Frame rfc5424Frame = new RFC5424Frame(linefeedTermination);
rfc5424Frame.load(inputStream);
if(rfc5424Frame.next()) {
    System.out.println("Priority: " + rfc5424Frame.priority.toString());
    System.out.println("Version: " + rfc5424Frame.version.toString());
    System.out.println("Timestamp: " + rfc5424Frame.timestamp.toString());
    System.out.println("Hostname: " + rfc5424Frame.hostname.toString());
    System.out.println("Appname: " + rfc5424Frame.appName.toString());
    System.out.println("ProcID: " + rfc5424Frame.procId.toString());
    System.out.println("MsgID: " + rfc5424Frame.msgId.toString());
    System.out.println("Message: " + rfc5424Frame.msg.toString());
}
else {
    System.out.printn("No data left");
}
----

For structured data property extraction, create a `new SDVector("key@48577", "value");` and pass it to `rfc5424Frame.structuredData.getValue(sdVector)`:

[source,java]
----
SDVector sdVector = new SDVector("ID_ELEMENT_NAME@48577", "ELEMENT_KEY");
// "<14>1 2014-06-20T09:14:07.123456+00:00 hostname appname - - [ID_ELEMENT_NAME@48577 ELEMENT_KEY=\"MyValue\"] message";
//                                                               ^^^^^^^^^^^^^^^^^^^^^ ^^^^^^^^^^^

System.out.println(rfc5424Frame.structuredData.getValue(sdVector).toString()); // Returns "MyValue"
----

You can also access structured data directly as a list:

[source,java]
----
for (SDElement sdElement : rfc5424Frame.structuredData.sdElements) {
    System.out.println("Current element: " + sdElement.sdElementId.toString());
    for (SDParam sdParam : sdElement.sdParams) {
        System.out.println("Current key: " + sdParam.sdParamKey.toString());
        System.out.println("Current value: " + sdParam.sdParamValue.toString());
    }
}
----